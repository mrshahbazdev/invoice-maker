# محرك الفواتير: دليل كامل

يدور المنطق الأساسي لهذه المنصة حول محرك فواتير آلي متقدم للغاية مصمم لمساعدتك في إنشاء فواتير احترافية بسلاسة تامة. يغطي هذا الدليل مجموعة الميزات الكاملة المتوفرة ضمن تدفق إنشاء الفاتورة.

---

## 1. بدء فاتورة جديدة
إنشاء فاتورة أمر بسيط. انتقل إلى وحدة **الفواتير** وانقر على **إنشاء فاتورة جديدة**. 
يؤدي هذا إلى تشغيل أداة إنشاء المستندات التفاعلية بالسحب والإفلات.

### بيانات تعريف الفاتورة
قبل إضافة عناصر سطرية، ستقوم بإعداد البيانات التعريفية الأساسية التي تحدد المستند:
- **رقم الفاتورة:** افتراضيًا، يقوم النظام بزيادة أرقام فاتورتك تلقائيًا (على سبيل المثال، INV-0001 يصبح INV-0002). ومع ذلك، يمكنك تجاوز نظام البادئة والترقيم يدويًا في إعداداتك العامة إذا كنت تستخدم تنسيقًا مخصصًا.
- **تاريخ الإصدار:** تاريخ إنشاء المستند رسميًا. الافتراضية إلى اليوم.
- **تاريخ الاستحقاق / شروط الدفع:** حدد متى تتوقع استلام الأموال. يمكنك تحديد تواريخ محددة أو استخدام مصطلحات ديناميكية مثل "صافي 15" أو "صافي 30" أو "مستحق عند الاستلام". سيقوم النظام تلقائيًا بحساب تاريخ الاستحقاق الدقيق بناءً على تاريخ الإصدار.
- **اختيار العميل:** حدد عميلًا موجودًا من نظام إدارة علاقات العملاء (CRM) الخاص بك أو حدد عميلاً جديدًا سريعًا دون مغادرة المنشئ.

---

## 2. إدارة العناصر
قسم البند هو المكان الذي تقوم فيه بإنشاء الفاتورة الفعلية. 

### إضافة المنتجات والخدمات
يمكنك إضافة عناصر سطرية بطريقتين مختلفتين:
1. **الإدخال اليدوي:** اكتب أوصافًا مخصصة تمامًا وأسعارًا عشوائية وكميات محددة مباشرةً في صف فارغ. هذا مثالي لأعمال المشاريع المخصصة أو رسوم الخدمة الفريدة.
2. **من المخزون:** انقر على القائمة المنسدلة "إضافة منتج" لتحديد العناصر المحفوظة مسبقًا من كتالوج المنتجات/الخدمات الخاصة بك. سيقوم النظام على الفور بإدخال الوصف المحدد مسبقًا وسعر الوحدة ومعدلات الضريبة الافتراضية لهذا العنصر، مما يوفر لك وقتًا هائلاً.

### الرياضيات والضرائب في الوقت الحقيقي
الجدول بأكمله متكامل رياضيا.
- عندما تقوم بضبط الكميات أو أسعار الوحدات، يتم تحديث إجماليات الصف على الفور.
- **ضرائب البنود:** يمكنك تعيين معدلات ضرائب متعددة (على سبيل المثال، ضريبة القيمة المضافة الإقليمية وضريبة المبيعات الثانوية) لبند واحد. يقوم النظام باحتساب هذه الضرائب ديناميكيًا وبشكل فردي لكل صف.
- **إعادة الترتيب بالسحب والإسقاط:** أمسك المقبض الموجود على الجانب الأيسر من أي صف لإعادة ترتيب كيفية ظهور العناصر في ملف PDF النهائي. تستمر الرياضيات في الحساب بشكل مثالي بغض النظر عن الطلب.

---

## 3. الخصومات والمعدلات العالمية
في بعض الأحيان تحتاج إلى تعديل الإجمالي الكلي بما يتجاوز البنود الفردية.

- **الخصومات العالمية:** في الجزء السفلي من أداة إنشاء الفواتير، يمكنك إضافة خصم عالمي. يمكنك اختيار ما إذا كان هذا الخصم مبلغًا ثابتًا فعليًا (على سبيل المثال، "خصم 50 دولارًا") أو نسبة مئوية من الإجمالي الفرعي (على سبيل المثال، "خصم 10%"). يتم تحديث الإجمالي الكلي ديناميكيًا ليعكس التوفير.
- **الملاحظات والبنود:** أضف رسالة شخصية إلى العميل (مثل "شكرًا لك على عملك!") وحدد الشروط والأحكام القانونية الصارمة (مثل "الدفعات المتأخرة تؤدي إلى عقوبة بنسبة 5%").

---

## 4. الإرسال والتسليم
بمجرد الانتهاء من فاتورتك، فقد حان الوقت لتلقي الدفع.

### إرسال البريد الإلكتروني الآلي
يؤدي النقر على "إرسال الفاتورة" إلى فتح مشغل البريد الإلكتروني.
- يقوم النظام تلقائيًا بتحميل عنوان البريد الإلكتروني الأساسي المخصص لعميلك.
- يمكنك تخصيص سطر الموضوع ونص HTML للبريد الإلكتروني بشكل كبير. إذا قمت بتحديد قالب محدد لهذا العميل في CRM، فسيتم تحميله مسبقًا.
- تقوم المنصة بإرفاق ملف PDF مضغوط للغاية ومُنشأ بشكل جميل من المستند مباشرة إلى البريد الإلكتروني الصادر.

### بوابة العميل "الرابط السحري"
والأهم من ذلك أن البريد الإلكتروني يحتوي أيضًا على "رابط سحري". عندما ينقر عميلك على هذا الرابط، يتم نقله مباشرةً إلى بوابة العميل الآمنة والتي لا تحتوي على كلمة مرور حيث يمكنه عرض الفاتورة ديناميكيًا.

### تتبع الحالة
بمجرد إرسال الفاتورة، يبدأ النظام بتتبع حالتها تلقائيًا:
- ستشاهد بالضبط متى يفتح العميل البريد الإلكتروني ويعرض المستند عبر الإنترنت (تتغير الحالة من مرسل إلى معروض).
- إذا مر تاريخ الاستحقاق، يقوم النظام بوضع علامة على الفاتورة بشارة **متأخرة** حمراء صارخة.
- عندما يتم تسجيل المدفوعات (إما يدويًا أو عبر Stripe)، يتم تحديث الرصيد. إذا تم الدفع جزئيًا، فإنه ينتقل إلى "جزئي". إذا تمت تسويته بالكامل، فسيتم أرشفته كـ "مدفوع".